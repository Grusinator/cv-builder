{% extends "base_cv_content.html" %}

{% block content %}
<header class="major">
    <h2>Competencies</h2>
</header>
<section>
    <a href="{% url 'add_competency' %}">Add Competency Manually</a>
    <a href="{% url 'build_competencies_from_content' %}">Fetch Competencies</a>
    <h3>Competencies List</h3>
    <ul>
        {% for competency in competencies %}
        <li>{{ competency.name }} (Level: {{ competency.level }})
            <a href="{% url 'update_competency' competency.competency_id %}">Edit</a>
            <form action="{% url 'delete_competency' competency.competency_id %}" method="post" style="display: inline;">
                {% csrf_token %}
                <button type="submit" onclick="return confirm('Are you sure you want to delete this competency?');">Delete</button>
            </form>
        </li>
        {% empty %}
        <p>No competencies available at the moment.</p>
        {% endfor %}
    </ul>
</section>
{% endblock %}
